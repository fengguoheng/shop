{"version":3,"file":"js/131.93e9f7e1.js","mappings":"yGAAA,IAAIA,EAIAA,EAAS,gDAEb,K,6LCWA,MAAMC,GAAeC,EAAAA,EAAAA,IAAI,IACnBC,GAAWD,EAAAA,EAAAA,IAAI,KAErBE,EAAAA,EAAAA,KAAU,KACN,MAAMC,EAAiBC,aAAaC,QAAQ,YACxCF,EACAF,EAASK,MAAQH,EAEjBI,QAAQC,MAAM,UAClB,IAGJ,MAAMC,EAAYC,UACd,GAAKX,EAAaO,MAIlB,IACI,MAAMK,EAAc,CAChBV,SAAUA,EAASK,MACnBP,aAAcA,EAAaO,OAEzBM,QAAiBC,EAAAA,EAAMC,KAAK,GAAGhB,EAAAA,kBAAwBa,GAC7DJ,QAAQQ,IAAI,WAAYH,EAASI,KACrC,CAAE,MAAOR,GACLD,QAAQC,MAAM,WAAYA,EAC9B,MAZID,QAAQC,MAAM,WAYlB,E,4aCrCJ,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://client/./src/config.js","webpack://client/./src/views/添加好友.vue","webpack://client/./src/views/添加好友.vue?1bc9"],"sourcesContent":["let apiUrl;\r\nif (process.env.NODE_ENV === 'development') {\r\n    apiUrl = 'https://tender-secure-bluegill.ngrok-free.app'; // 开发环境ngrok地址\r\n} else {\r\n    apiUrl = 'https://tender-secure-bluegill.ngrok-free.app'; // 这里需替换为实际生产环境API地址，若没变化还是ngrok地址\r\n}\r\nexport default apiUrl;","<template>\r\n    <div class=\"add-friend-container\">\r\n        <h2>添加好友</h2>\r\n        <form @submit.prevent=\"addFriend\">\r\n            <label for=\"goalUsername\">目标用户名：</label>\r\n            <input type=\"text\" id=\"goalUsername\" v-model=\"goalUsername\" required>\r\n            <button type=\"submit\">发送好友申请</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport apiUrl from '../config.js';\r\nimport { onMounted } from 'vue';\r\n\r\nconst goalUsername = ref('');\r\nconst username = ref('');\r\n\r\nonMounted(() => {\r\n    const storedUsername = localStorage.getItem('username');\r\n    if (storedUsername) {\r\n        username.value = storedUsername;\r\n    } else {\r\n        console.error('未获取到用户名');\r\n    }\r\n});\r\n\r\nconst addFriend = async () => {\r\n    if (!goalUsername.value) {\r\n        console.error('请输入目标用户名');\r\n        return;\r\n    }\r\n    try {\r\n        const requestData = {\r\n            username: username.value,\r\n            goalUsername: goalUsername.value\r\n        };\r\n        const response = await axios.post(`${apiUrl}/api/addFriend`, requestData);\r\n        console.log('好友申请发送成功', response.data);\r\n    } catch (error) {\r\n        console.error('发送好友申请失败', error);\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.add-friend-container {\r\n    padding: 20px;\r\n    text-align: center;\r\n}\r\n\r\nform {\r\n    margin-top: 20px;\r\n}\r\n\r\nlabel {\r\n    display: block;\r\n    margin-bottom: 5px;\r\n}\r\n\r\ninput {\r\n    padding: 8px;\r\n    margin-bottom: 15px;\r\n    width: 200px;\r\n}\r\n\r\nbutton {\r\n    padding: 8px 16px;\r\n    background-color: #409eff;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n}\r\n</style>","import script from \"./添加好友.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./添加好友.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./添加好友.vue?vue&type=style&index=0&id=6a7515df&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a7515df\"]])\n\nexport default __exports__"],"names":["apiUrl","goalUsername","ref","username","onMounted","storedUsername","localStorage","getItem","value","console","error","addFriend","async","requestData","response","axios","post","log","data","__exports__"],"sourceRoot":""}