"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[178],{6178:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(4114);var l=a(641),n=a(33),s=a(953),o=a(4335),u=a(9325),c=a(2169);const i={class:"nav-container"},d={class:"header-section"},r={key:0,class:"designer"},g={class:"blog-container"},k={class:"blog-date"},v={class:"blog-content"};var m={__name:"Home",setup(e){const t=(0,s.KR)("home"),a=e=>{console.log("当前选中：",e),"get"===e&&p()},m=(0,s.KR)([]),f=(0,s.KR)(null),h=(0,s.KR)(!1),b=(0,s.KR)({}),_=(0,s.KR)(""),p=async()=>{try{alert("getblogs函数已执行");const e=await o.A.get(`${c.A}/api/getBlogs`);m.value=e.data}catch(e){console.error("获取博客数据失败:",e)}},y=()=>{u.A.push("/person")},L=()=>{u.A.push("/write")},C=()=>{const e=document.getElementById("musicPlayer");e.paused?(e.play(),f.value.textContent="暂停音乐"):(e.pause(),f.value.textContent="播放音乐")};return(0,l.sV)((async()=>{try{alert("钩子函数已执行"),_.value=localStorage.getItem("username"),console.log("5555",_.value),p();const e=await o.A.get(`${c.A}/check`,{withCredentials:!0});e.data.isLoggedIn&&(h.value=!0,b.value=e.data),console.log("用户名:",b.value.username)}catch(e){console.error("验证登录状态出错:",e)}h.value=localStorage.getItem("isLoggedIn")})),(e,s)=>{const o=(0,l.g2)("el-menu-item"),u=(0,l.g2)("el-menu"),c=(0,l.g2)("el-card");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",i,[(0,l.Lk)("div",d,[s[1]||(s[1]=(0,l.Lk)("h1",{class:"title"},"博·客·系·统",-1)),b.value?((0,l.uX)(),(0,l.CE)("span",r,"欢迎"+(0,n.v_)(_.value),1)):(0,l.Q3)("",!0)]),(0,l.bF)(u,{class:"nav-menu",mode:"horizontal","default-active":t.value,onSelect:a},{default:(0,l.k6)((()=>[(0,l.bF)(o,{index:"home"},{default:(0,l.k6)((()=>s[2]||(s[2]=[(0,l.eW)("首页")]))),_:1}),(0,l.bF)(o,{onClick:y,index:"personal"},{default:(0,l.k6)((()=>s[3]||(s[3]=[(0,l.eW)("个人主页")]))),_:1}),(0,l.bF)(o,{index:"friends"},{default:(0,l.k6)((()=>s[4]||(s[4]=[(0,l.eW)("好友")]))),_:1}),(0,l.bF)(o,{index:"game"},{default:(0,l.k6)((()=>s[5]||(s[5]=[(0,l.eW)("游戏")]))),_:1}),(0,l.bF)(o,{index:"about"},{default:(0,l.k6)((()=>s[6]||(s[6]=[(0,l.eW)("关于我们")]))),_:1}),(0,l.bF)(o,{index:"exit"},{default:(0,l.k6)((()=>s[7]||(s[7]=[(0,l.eW)("退出")]))),_:1}),(0,l.bF)(o,{index:"get"},{default:(0,l.k6)((()=>s[8]||(s[8]=[(0,l.eW)("获取文章数据")]))),_:1})])),_:1},8,["default-active"]),(0,l.Lk)("div",g,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(m.value,(e=>((0,l.uX)(),(0,l.Wv)(c,{key:e.id,class:"blog-card"},{header:(0,l.k6)((()=>[(0,l.Lk)("h3",null,(0,n.v_)(e.title),1),(0,l.Lk)("h4",null,(0,n.v_)(e.username),1),(0,l.Lk)("span",k,(0,n.v_)(new Date(e.date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)])),default:(0,l.k6)((()=>[(0,l.Lk)("div",v,(0,n.v_)(e.content),1)])),_:2},1024)))),128))]),(0,l.Lk)("button",{onClick:L,id:"writeArticleBtn"},"撰写文章")]),s[9]||(s[9]=(0,l.Lk)("audio",{id:"musicPlayer",src:"船长.mp3",controls:"",style:{display:"none"}},null,-1)),(0,l.Lk)("button",{ref_key:"musicBtnRef",ref:f,class:"music-btn",onClick:s[0]||(s[0]=e=>C())},"播放音乐",512)],64)}}},f=a(6262);const h=(0,f.A)(m,[["__scopeId","data-v-1d4c54d2"]]);var b=h}}]);
//# sourceMappingURL=178.465fa60d.js.map