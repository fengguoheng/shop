"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[264],{5264:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});a(4114);var n=a(641),l=a(33),s=a(953),i=a(4335),u=a(9325);const o={class:"nav-container"},c={class:"header-section"},d={key:0,class:"designer"},r={class:"blog-container"},k={class:"blog-date"},v={class:"blog-content"};var g={__name:"Home",setup(e){const t=(0,s.KR)("home"),a=e=>{console.log("当前选中：",e)},g=(0,s.KR)([]),m=(0,s.KR)(null),f=((0,s.KR)(""),(0,s.KR)(!1)),h=(0,s.KR)({}),p=async()=>{try{const e=await i.A.get("/api/api/getBlogs");g.value=e.data}catch(e){console.error("获取博客数据失败:",e)}},_=()=>{u.A.push("/person")},b=()=>{u.A.push("/write")},y=()=>{const e=document.getElementById("musicPlayer");e.paused?(e.play(),m.value.textContent="暂停音乐"):(e.pause(),m.value.textContent="播放音乐")};return(0,n.sV)((async()=>{try{const e=await i.A.get("/api/check",{withCredentials:!0});e.data.isLoggedIn&&(f.value=!0,h.value=e.data),console.log("用户名:",h.value.username)}catch(e){console.error("验证登录状态出错:",e)}f.value=localStorage.getItem("isLoggedIn"),p()})),(e,s)=>{const i=(0,n.g2)("el-menu-item"),u=(0,n.g2)("el-menu"),f=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",o,[(0,n.Lk)("div",c,[s[1]||(s[1]=(0,n.Lk)("h1",{class:"title"},"博·客·系·统",-1)),h.value?((0,n.uX)(),(0,n.CE)("span",d,"欢迎"+(0,l.v_)(h.value.username),1)):(0,n.Q3)("",!0)]),(0,n.bF)(u,{class:"nav-menu",mode:"horizontal","default-active":t.value,onSelect:a},{default:(0,n.k6)((()=>[(0,n.bF)(i,{index:"home"},{default:(0,n.k6)((()=>s[2]||(s[2]=[(0,n.eW)("首页")]))),_:1}),(0,n.bF)(i,{onClick:_,index:"personal"},{default:(0,n.k6)((()=>s[3]||(s[3]=[(0,n.eW)("个人主页")]))),_:1}),(0,n.bF)(i,{index:"friends"},{default:(0,n.k6)((()=>s[4]||(s[4]=[(0,n.eW)("好友")]))),_:1}),(0,n.bF)(i,{index:"game"},{default:(0,n.k6)((()=>s[5]||(s[5]=[(0,n.eW)("游戏")]))),_:1}),(0,n.bF)(i,{index:"about"},{default:(0,n.k6)((()=>s[6]||(s[6]=[(0,n.eW)("关于我们")]))),_:1}),(0,n.bF)(i,{index:"exit"},{default:(0,n.k6)((()=>s[7]||(s[7]=[(0,n.eW)("退出")]))),_:1})])),_:1},8,["default-active"]),(0,n.Lk)("div",r,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.value,(e=>((0,n.uX)(),(0,n.Wv)(f,{key:e.id,class:"blog-card"},{header:(0,n.k6)((()=>[(0,n.Lk)("h3",null,(0,l.v_)(e.title),1),(0,n.Lk)("h4",null,(0,l.v_)(e.username),1),(0,n.Lk)("span",k,(0,l.v_)(new Date(e.date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)])),default:(0,n.k6)((()=>[(0,n.Lk)("div",v,(0,l.v_)(e.content),1)])),_:2},1024)))),128))]),(0,n.Lk)("button",{onClick:b,id:"writeArticleBtn"},"撰写文章")]),s[8]||(s[8]=(0,n.Lk)("audio",{id:"musicPlayer",src:"船长.mp3",controls:"",style:{display:"none"}},null,-1)),(0,n.Lk)("button",{ref_key:"musicBtnRef",ref:m,class:"music-btn",onClick:s[0]||(s[0]=e=>y())},"播放音乐",512)],64)}}},m=a(6262);const f=(0,m.A)(g,[["__scopeId","data-v-e75ff9f6"]]);var h=f}}]);
//# sourceMappingURL=264.67a5e9cb.js.map