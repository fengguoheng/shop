"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[502],{2169:function(e,t){let a;a="https://wondrous-parrot-perfectly.ngrok-free.app",t.A=a},8502:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=a(641),n=a(33),c=a(953),l=a(4335),r=a(2169);const i={class:"message-page"},o={class:"header"},u={key:0,class:"welcome-text"},d={class:"message-header"},v={class:"message-date"},g={class:"message-content"};var p={__name:"消息通知",setup(e){const t=(0,c.KR)([]),a=(0,c.KR)({}),p=(0,c.KR)(""),k=async()=>{if(p.value)try{const e=await l.A.get(`${r.A}/api/getMessage/${p.value}`);t.value=e.data}catch(e){console.error("获取消息失败:",e)}};return(0,s.sV)((async()=>{try{p.value=localStorage.getItem("username"),await k()}catch(e){console.error("验证登录状态出错:",e)}})),(e,c)=>((0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",o,[c[0]||(c[0]=(0,s.Lk)("h1",{class:"title"},"消息通知",-1)),a.value?((0,s.uX)(),(0,s.CE)("span",u,"欢迎"+(0,n.v_)(p.value),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("button",{onClick:k,class:"refresh-btn"},"刷新消息"),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.value,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"message-item"},[(0,s.Lk)("div",d,[(0,s.Lk)("h3",null,(0,n.v_)(e.title),1),(0,s.Lk)("span",v,(0,n.v_)(new Date(e.date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)]),(0,s.Lk)("p",g,(0,n.v_)(e.content),1)])))),128))]))}},k=a(6262);const h=(0,k.A)(p,[["__scopeId","data-v-2721988c"]]);var m=h}}]);
//# sourceMappingURL=502.e1c65813.js.map