"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[608],{4608:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(4114);var n=a(641),l=a(33),s=a(953),o=a(4335),c=a(9325),u=a(2169);const i={class:"nav-container"},d={class:"header-section"},r={key:0,class:"designer"},g={class:"blog-container"},k={class:"blog-date"},v={class:"blog-content"};var m={__name:"Home",setup(e){const t=(0,s.KR)("home"),a=e=>{console.log("当前选中：",e)},m=(0,s.KR)([]),h=(0,s.KR)(null),f=(0,s.KR)(!1),b=(0,s.KR)({}),p=async()=>{try{const e=await o.A.get(`${u.A}/api/getBlogs`);m.value=e.data}catch(e){console.error("获取博客数据失败:",e)}},_=()=>{c.A.push("/person")},y=()=>{c.A.push("/write")},L=()=>{const e=document.getElementById("musicPlayer");e.paused?(e.play(),h.value.textContent="暂停音乐"):(e.pause(),h.value.textContent="播放音乐")};return(0,n.sV)((async()=>{try{console.log("4444",localStorage.getItem("isLoggedIn")),p();const e=await o.A.get(`${u.A}/check`,{withCredentials:!0});e.data.isLoggedIn&&(f.value=!0,b.value=e.data),console.log("用户名:",b.value.username)}catch(e){console.error("验证登录状态出错:",e)}f.value=localStorage.getItem("isLoggedIn")})),(e,s)=>{const o=(0,n.g2)("el-menu-item"),c=(0,n.g2)("el-menu"),u=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",i,[(0,n.Lk)("div",d,[s[1]||(s[1]=(0,n.Lk)("h1",{class:"title"},"博·客·系·统",-1)),b.value?((0,n.uX)(),(0,n.CE)("span",r,"欢迎"+(0,l.v_)(b.value.username),1)):(0,n.Q3)("",!0)]),(0,n.bF)(c,{class:"nav-menu",mode:"horizontal","default-active":t.value,onSelect:a},{default:(0,n.k6)((()=>[(0,n.bF)(o,{index:"home"},{default:(0,n.k6)((()=>s[2]||(s[2]=[(0,n.eW)("首页")]))),_:1}),(0,n.bF)(o,{onClick:_,index:"personal"},{default:(0,n.k6)((()=>s[3]||(s[3]=[(0,n.eW)("个人主页")]))),_:1}),(0,n.bF)(o,{index:"friends"},{default:(0,n.k6)((()=>s[4]||(s[4]=[(0,n.eW)("好友")]))),_:1}),(0,n.bF)(o,{index:"game"},{default:(0,n.k6)((()=>s[5]||(s[5]=[(0,n.eW)("游戏")]))),_:1}),(0,n.bF)(o,{index:"about"},{default:(0,n.k6)((()=>s[6]||(s[6]=[(0,n.eW)("关于我们")]))),_:1}),(0,n.bF)(o,{index:"exit"},{default:(0,n.k6)((()=>s[7]||(s[7]=[(0,n.eW)("退出")]))),_:1})])),_:1},8,["default-active"]),(0,n.Lk)("div",g,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(m.value,(e=>((0,n.uX)(),(0,n.Wv)(u,{key:e.id,class:"blog-card"},{header:(0,n.k6)((()=>[(0,n.Lk)("h3",null,(0,l.v_)(e.title),1),(0,n.Lk)("h4",null,(0,l.v_)(e.username),1),(0,n.Lk)("span",k,(0,l.v_)(new Date(e.date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)])),default:(0,n.k6)((()=>[(0,n.Lk)("div",v,(0,l.v_)(e.content),1)])),_:2},1024)))),128))]),(0,n.Lk)("button",{onClick:y,id:"writeArticleBtn"},"撰写文章")]),s[8]||(s[8]=(0,n.Lk)("audio",{id:"musicPlayer",src:"船长.mp3",controls:"",style:{display:"none"}},null,-1)),(0,n.Lk)("button",{ref_key:"musicBtnRef",ref:h,class:"music-btn",onClick:s[0]||(s[0]=e=>L())},"播放音乐",512)],64)}}},h=a(6262);const f=(0,h.A)(m,[["__scopeId","data-v-d941b826"]]);var b=f}}]);
//# sourceMappingURL=608.40dd2652.js.map