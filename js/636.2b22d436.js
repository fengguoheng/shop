"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[636],{2169:function(e,l){let a;a="https://tender-secure-bluegill.ngrok-free.app",l.A=a},7636:function(e,l,a){a.r(l),a.d(l,{default:function(){return m}});var r=a(641),u=a(953),n=a(5220),o=a(163),t=a(2169),s={__name:"UserRegister",setup(e){const l=(0,u.KR)({username:"",password:"",email:""}),a=(0,u.KR)(null);(0,n.JZ)(((e,l)=>(console.log(`离开注册页面的组件内守卫:即将从 ${l.path} 导航到 ${e.path}`),!0))),(0,n.V6)(((e,l)=>(console.log("注册页面 组件路由更新前的守卫"),!0)));const s=()=>{l.value.username&&l.value.password&&l.value.email?fetch(`${t.A}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l.value)}).then((e=>{if(e.ok)return e.json();throw new Error("注册请求失败")})).then((e=>{e.success?(o.nk.success("注册成功！"),l.value.username="",l.value.password="",l.value.email=""):o.nk.error(e.message||"注册失败，请稍后重试")})).catch((e=>{console.error("注册请求出错:",e),o.nk.error("注册请求出错，请稍后重试")})):o.nk.error("请填写完整信息！")};return(e,u)=>{const n=(0,r.g2)("el-input"),o=(0,r.g2)("el-form-item"),t=(0,r.g2)("el-button"),d=(0,r.g2)("el-form"),p=(0,r.g2)("el-main"),m=(0,r.g2)("el-container");return(0,r.uX)(),(0,r.Wv)(m,{class:"register-container"},{default:(0,r.k6)((()=>[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[u[4]||(u[4]=(0,r.Lk)("h1",null,"注册账号",-1)),(0,r.bF)(d,{ref_key:"formRef",ref:a,model:l.value,"label-width":"80px"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{label:"用户名",prop:"username"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:l.value.username,"onUpdate:modelValue":u[0]||(u[0]=e=>l.value.username=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(o,{label:"密码",prop:"password"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:l.value.password,"onUpdate:modelValue":u[1]||(u[1]=e=>l.value.password=e),type:"password"},null,8,["modelValue"])])),_:1}),(0,r.bF)(o,{label:"邮箱",prop:"email"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:l.value.email,"onUpdate:modelValue":u[2]||(u[2]=e=>l.value.email=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(o,null,{default:(0,r.k6)((()=>[(0,r.bF)(t,{type:"primary",onClick:s},{default:(0,r.k6)((()=>u[3]||(u[3]=[(0,r.eW)("注册")]))),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})}}},d=a(6262);const p=(0,d.A)(s,[["__scopeId","data-v-ead96756"]]);var m=p}}]);
//# sourceMappingURL=636.2b22d436.js.map