"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[648],{4114:function(e,n,t){var r=t(6518),a=t(8981),l=t(6198),s=t(4527),c=t(6837),o=t(9039),u=o((function(){return 4294967297!==[].push.call({length:4294967296},1)})),i=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!i();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var n=a(this),t=l(n),r=arguments.length;c(t+r);for(var o=0;o<r;o++)n[t]=arguments[o],t++;return s(n,t),t}})},4376:function(e,n,t){var r=t(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4527:function(e,n,t){var r=t(3724),a=t(4376),l=TypeError,s=Object.getOwnPropertyDescriptor,c=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=c?function(e,n){if(a(e)&&!s(e,"length").writable)throw new l("Cannot set read only .length");return e.length=n}:function(e,n){return e.length=n}},6648:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});t(4114);var r=t(641),a=t(33),l=t(953),s=t(4335),c=t(9325),o=t(2169);const u={class:"nav-container"},i={class:"header-section"},d={class:"center-content"},f={key:0,class:"designer"},h={class:"friend-container"};var p={__name:"好友",setup(e){const n=(0,l.KR)("friends"),t=e=>{console.log("当前选中：",e)},p=(0,l.KR)([]),k=(0,l.KR)(null),m=(0,l.KR)({}),v=(0,l.KR)(""),y=()=>{c.A.push("/person")},g=()=>{c.A.push("/write")},b=()=>{const e=document.getElementById("musicPlayer");e.paused?(e.play(),k.value.textContent="暂停音乐"):(e.pause(),k.value.textContent="播放音乐")},x=async()=>{try{const e=localStorage.getItem("username"),n=await s.A.post(`${o.A}/api/getFriends`,{username:e});p.value=n.data.friends}catch(e){console.error("获取好友列表失败:",e)}},w=e=>{c.A.push({name:"another",params:{username:e}})},_=()=>{c.A.push({name:"search"})};return(0,r.sV)((async()=>{try{v.value=localStorage.getItem("username"),await x()}catch(e){console.error("验证登录状态出错:",e)}})),(e,l)=>{const s=(0,r.g2)("el-menu-item"),c=(0,r.g2)("el-menu"),o=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)(r.FK,null,[l[10]||(l[10]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"},null,-1)),(0,r.Lk)("div",u,[(0,r.Lk)("div",i,[(0,r.Lk)("div",d,[l[1]||(l[1]=(0,r.Lk)("h1",{class:"title"},"博·客·系·统",-1)),m.value?((0,r.uX)(),(0,r.CE)("span",f,"欢迎"+(0,a.v_)(v.value),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("button",{onClick:_,class:"search-btn"},l[2]||(l[2]=[(0,r.Lk)("i",{class:"fa-solid fa-magnifying-glass"},null,-1),(0,r.Lk)("span",null,"搜索",-1)]))]),(0,r.bF)(c,{class:"nav-menu",mode:"horizontal","default-active":n.value,onSelect:t},{default:(0,r.k6)((()=>[(0,r.bF)(s,{index:"home"},{default:(0,r.k6)((()=>l[3]||(l[3]=[(0,r.eW)("首页")]))),_:1}),(0,r.bF)(s,{onClick:y,index:"personal"},{default:(0,r.k6)((()=>l[4]||(l[4]=[(0,r.eW)("个人主页")]))),_:1}),(0,r.bF)(s,{index:"friends"},{default:(0,r.k6)((()=>l[5]||(l[5]=[(0,r.eW)("好友")]))),_:1}),(0,r.bF)(s,{index:"game"},{default:(0,r.k6)((()=>l[6]||(l[6]=[(0,r.eW)("游戏")]))),_:1}),(0,r.bF)(s,{index:"about"},{default:(0,r.k6)((()=>l[7]||(l[7]=[(0,r.eW)("关于我们")]))),_:1}),(0,r.bF)(s,{index:"exit"},{default:(0,r.k6)((()=>l[8]||(l[8]=[(0,r.eW)("退出")]))),_:1})])),_:1},8,["default-active"]),(0,r.Lk)("div",h,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(p.value,((e,n)=>((0,r.uX)(),(0,r.Wv)(o,{key:n,class:"friend-card",onClick:n=>w(e)},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",null,"好友："+(0,a.v_)(e),1)])),_:2},1032,["onClick"])))),128))]),(0,r.Lk)("button",{onClick:g,id:"writeArticleBtn"},"撰写文章"),l[9]||(l[9]=(0,r.Lk)("audio",{id:"musicPlayer",src:"船长.mp3",controls:"",style:{display:"none"}},null,-1)),(0,r.Lk)("button",{ref_key:"musicBtnRef",ref:k,class:"music-btn",onClick:l[0]||(l[0]=e=>b())},"播放音乐",512)])],64)}}},k=t(6262);const m=(0,k.A)(p,[["__scopeId","data-v-5e9acd62"]]);var v=m},6837:function(e){var n=TypeError,t=9007199254740991;e.exports=function(e){if(e>t)throw n("Maximum allowed index exceeded");return e}}}]);
//# sourceMappingURL=648.7206da25.js.map