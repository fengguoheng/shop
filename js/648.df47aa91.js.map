{"version":3,"file":"js/648.df47aa91.js","mappings":"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","sources":["webpack://client/./node_modules/core-js/modules/es.array.push.js","webpack://client/./node_modules/core-js/internals/is-array.js","webpack://client/./node_modules/core-js/internals/array-set-length.js","webpack://client/./src/views/好友.vue","webpack://client/./src/views/好友.vue?0758","webpack://client/./node_modules/core-js/internals/does-not-exceed-safe-integer.js"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","<template>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n    <div class=\"nav-container\">\r\n        <div class=\"header-section\">\r\n            <div class=\"center-content\">\r\n                <h1 class=\"title\">博·客·系·统</h1>\r\n                <span v-if=\"userInfo\" class=\"designer\">欢迎{{ username }}</span>\r\n            </div>\r\n            <button @click=\"toSearch\" class=\"search-btn\">\r\n                <i class=\"fa-solid fa-magnifying-glass\"></i> <!-- 搜索图标 -->\r\n                <span>搜索</span>\r\n            </button>\r\n        </div>\r\n        <el-menu class=\"nav-menu\" mode=\"horizontal\" :default-active=\"activeIndex\" @select=\"handleSelect\">\r\n            <el-menu-item index=\"home\">首页</el-menu-item>\r\n            <el-menu-item @click=\"toPerson\" index=\"personal\">个人主页</el-menu-item>\r\n            <el-menu-item index=\"friends\">好友</el-menu-item>\r\n            <el-menu-item index=\"game\">游戏</el-menu-item>\r\n            <el-menu-item index=\"about\">关于我们</el-menu-item>\r\n            <el-menu-item index=\"exit\">退出</el-menu-item>\r\n        </el-menu>\r\n        <div class=\"friend-container\">\r\n            <el-card v-for=\"(friend, index) in friendsList\" :key=\"index\" class=\"friend-card\" @click=\"goToOtherProfile(friend)\">\r\n                <template #header>\r\n                    <h3>好友：{{ friend }}</h3>\r\n                </template>\r\n            </el-card>\r\n        </div>\r\n        <button @click='toWrite' id=\"writeArticleBtn\">撰写文章</button>\r\n        <!-- 隐藏的音频容器 -->\r\n        <audio id=\"musicPlayer\" src=\"船长.mp3\" controls style=\"display: none;\"></audio>\r\n        <!-- 播放音乐按钮 -->\r\n        <button ref=\"musicBtnRef\" class=\"music-btn\" @click=\"playMusic()\">播放音乐</button>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport router from '../router/index.js';\r\nimport apiUrl from '../config.js';\r\n\r\nconst activeIndex = ref('friends');\r\nconst handleSelect = (index) => {\r\n    console.log('当前选中：', index);\r\n    if (index === 'exit') {\r\n        // 可在此处添加退出登录等逻辑\r\n    }\r\n};\r\n\r\nconst friendsList = ref([]);\r\nconst musicBtnRef = ref(null);\r\nconst userInfo = ref({});\r\nconst username = ref('');\r\n\r\nconst toPerson = () => {\r\n    router.push('/person');\r\n};\r\n\r\nconst toWrite = () => {\r\n    router.push('/write');\r\n};\r\n\r\nconst playMusic = () => {\r\n    const musicPlayer = document.getElementById('musicPlayer');\r\n    if (musicPlayer.paused) {\r\n        musicPlayer.play();\r\n        musicBtnRef.value.textContent = \"暂停音乐\";\r\n    } else {\r\n        musicPlayer.pause();\r\n        musicBtnRef.value.textContent = \"播放音乐\";\r\n    }\r\n};\r\n\r\nconst fetchFriends = async () => {\r\n    try {\r\n        const usernameFromStorage = localStorage.getItem('username');\r\n        const response = await axios.post(`${apiUrl}/api/getFriends`, { username: usernameFromStorage });\r\n        friendsList.value = response.data.friends;\r\n    } catch (error) {\r\n        console.error('获取好友列表失败:', error);\r\n    }\r\n};\r\n\r\nconst goToOtherProfile = (friend) => {\r\n    router.push({ name: 'another', params: { username: friend } });\r\n};\r\n\r\nconst toSearch = () => {\r\n    router.push({ name:'search' });\r\n};\r\n\r\nonMounted(async () => {\r\n    try {\r\n        username.value = localStorage.getItem('username');\r\n        await fetchFriends();\r\n    } catch (error) {\r\n        console.error('验证登录状态出错:', error);\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* 样式部分保持不变 */\r\n.nav-container {\r\n    background: #e3e9f3;\r\n    padding: 15px;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.header-section {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n}\r\n\r\n.center-content {\r\n    flex-grow: 1;\r\n    text-align: center;\r\n}\r\n\r\n.title {\r\n    font-size: 28px;\r\n    color: #4CAF50;\r\n    margin: 0;\r\n    font-weight: 600;\r\n}\r\n\r\n.designer {\r\n    font-size: 14px;\r\n    color: #6c757d;\r\n    margin-top: 5px;\r\n    display: block;\r\n}\r\n\r\n.search-btn {\r\n    background-color: #409eff;\r\n    color: white;\r\n    padding: 8px 16px;\r\n    border: none;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    transition: background-color 0.3s ease;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n}\r\n\r\n.search-btn:hover {\r\n    background-color: #66b1ff;\r\n    cursor: pointer;\r\n}\r\n\r\n.nav-menu {\r\n    justify-content: center;\r\n    gap: 12px;\r\n}\r\n\r\n.el-menu-item {\r\n    padding: 12px 22px;\r\n    border-radius: 8px;\r\n    font-size: 16px;\r\n}\r\n\r\n.friend-container {\r\n    padding: 20px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n    gap: 10px;\r\n}\r\n\r\n.friend-card {\r\n    width: calc(24% - 5px);\r\n    margin-bottom: 10px;\r\n    background-color: #fff;\r\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\r\n    border-radius: 8px;\r\n    padding: 15px;\r\n    transition: transform 0.2s ease;\r\n}\r\n\r\n.friend-card:hover {\r\n    transform: scale(1.03);\r\n    cursor: pointer;\r\n}\r\n\r\n.friend-card h3 {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n#writeArticleBtn {\r\n    position: fixed;\r\n    bottom: 30px;\r\n    right: 30px;\r\n    padding: 12px 24px;\r\n    background-color: #409eff;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    z-index: 999;\r\n}\r\n\r\n.music-btn {\r\n    position: fixed;\r\n    top: 20px;\r\n    right: 20px;\r\n    padding: 10px 20px;\r\n    background-color: #42b983;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    z-index: 999;\r\n}\r\n</style>","import script from \"./好友.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./好友.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./好友.vue?vue&type=style&index=0&id=5e9acd62&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5e9acd62\"]])\n\nexport default __exports__","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n"],"names":["$","toObject","lengthOfArrayLike","setArrayLength","doesNotExceedSafeInteger","fails","INCORRECT_TO_LENGTH","push","call","length","properErrorOnNonWritableLength","Object","defineProperty","writable","error","TypeError","FORCED","target","proto","arity","forced","item","O","this","len","argCount","arguments","i","classof","module","exports","Array","isArray","argument","DESCRIPTORS","$TypeError","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","undefined","activeIndex","ref","handleSelect","index","console","log","friendsList","musicBtnRef","userInfo","username","toPerson","router","toWrite","playMusic","musicPlayer","document","getElementById","paused","play","value","textContent","pause","fetchFriends","async","usernameFromStorage","localStorage","getItem","response","axios","post","apiUrl","data","friends","goToOtherProfile","friend","name","params","toSearch","onMounted","__exports__","MAX_SAFE_INTEGER","it"],"sourceRoot":""}