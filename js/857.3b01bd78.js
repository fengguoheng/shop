"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[857],{3857:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(4114);var l=a(641),n=a(33),o=a(953),s=a(4335),c=a(9325),u=a(2169);const i={class:"nav-container"},d={class:"header-section"},r={key:0,class:"designer"},g={class:"blog-container"},k={class:"blog-date"},v={class:"blog-content"};var m={__name:"Home",setup(e){const t=(0,o.KR)("home"),a=e=>{console.log("当前选中：",e)},m=(0,o.KR)([]),h=(0,o.KR)(null),f=(0,o.KR)(!1),b=(0,o.KR)({}),p=(0,o.KR)(""),_=async()=>{try{const e=await s.A.get(`${u.A}/api/getBlogs`);m.value=e.data}catch(e){console.error("获取博客数据失败:",e)}},y=()=>{c.A.push("/person")},L=()=>{c.A.push("/write")},C=()=>{const e=document.getElementById("musicPlayer");e.paused?(e.play(),h.value.textContent="暂停音乐"):(e.pause(),h.value.textContent="播放音乐")};return(0,l.sV)((async()=>{try{console.log("4444",localStorage.getItem("username")),p.value=localStorage.getItem("username"),console.log("5555",p.value),_();const e=await s.A.get(`${u.A}/check`,{withCredentials:!0});e.data.isLoggedIn&&(f.value=!0,b.value=e.data),console.log("用户名:",b.value.username)}catch(e){console.error("验证登录状态出错:",e)}f.value=localStorage.getItem("isLoggedIn")})),(e,o)=>{const s=(0,l.g2)("el-menu-item"),c=(0,l.g2)("el-menu"),u=(0,l.g2)("el-card");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",i,[(0,l.Lk)("div",d,[o[1]||(o[1]=(0,l.Lk)("h1",{class:"title"},"博·客·系·统",-1)),b.value?((0,l.uX)(),(0,l.CE)("span",r,"欢迎"+(0,n.v_)(p.value),1)):(0,l.Q3)("",!0)]),(0,l.bF)(c,{class:"nav-menu",mode:"horizontal","default-active":t.value,onSelect:a},{default:(0,l.k6)((()=>[(0,l.bF)(s,{index:"home"},{default:(0,l.k6)((()=>o[2]||(o[2]=[(0,l.eW)("首页")]))),_:1}),(0,l.bF)(s,{onClick:y,index:"personal"},{default:(0,l.k6)((()=>o[3]||(o[3]=[(0,l.eW)("个人主页")]))),_:1}),(0,l.bF)(s,{index:"friends"},{default:(0,l.k6)((()=>o[4]||(o[4]=[(0,l.eW)("好友")]))),_:1}),(0,l.bF)(s,{index:"game"},{default:(0,l.k6)((()=>o[5]||(o[5]=[(0,l.eW)("游戏")]))),_:1}),(0,l.bF)(s,{index:"about"},{default:(0,l.k6)((()=>o[6]||(o[6]=[(0,l.eW)("关于我们")]))),_:1}),(0,l.bF)(s,{index:"exit"},{default:(0,l.k6)((()=>o[7]||(o[7]=[(0,l.eW)("退出")]))),_:1})])),_:1},8,["default-active"]),(0,l.Lk)("div",g,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(m.value,(e=>((0,l.uX)(),(0,l.Wv)(u,{key:e.id,class:"blog-card"},{header:(0,l.k6)((()=>[(0,l.Lk)("h3",null,(0,n.v_)(e.title),1),(0,l.Lk)("h4",null,(0,n.v_)(e.username),1),(0,l.Lk)("span",k,(0,n.v_)(new Date(e.date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)])),default:(0,l.k6)((()=>[(0,l.Lk)("div",v,(0,n.v_)(e.content),1)])),_:2},1024)))),128))]),(0,l.Lk)("button",{onClick:L,id:"writeArticleBtn"},"撰写文章")]),o[8]||(o[8]=(0,l.Lk)("audio",{id:"musicPlayer",src:"船长.mp3",controls:"",style:{display:"none"}},null,-1)),(0,l.Lk)("button",{ref_key:"musicBtnRef",ref:h,class:"music-btn",onClick:o[0]||(o[0]=e=>C())},"播放音乐",512)],64)}}},h=a(6262);const f=(0,h.A)(m,[["__scopeId","data-v-1a6ecb4d"]]);var b=f}}]);
//# sourceMappingURL=857.3b01bd78.js.map