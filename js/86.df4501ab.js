"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[86],{4114:function(e,t,n){var r=n(6518),a=n(8981),l=n(6198),o=n(4527),i=n(6837),u=n(9039),c=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=c||!s();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=a(this),n=l(t),r=arguments.length;i(n+r);for(var u=0;u<r;u++)t[n]=arguments[u],n++;return o(t,n),n}})},4376:function(e,t,n){var r=n(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4527:function(e,t,n){var r=n(3724),a=n(4376),l=TypeError,o=Object.getOwnPropertyDescriptor,i=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,t){if(a(e)&&!o(e,"length").writable)throw new l("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6086:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});n(4114);var r=n(641),a=n(33),l=n(953),o=n(4335),i=n(9325);const u={class:"nav-container"},c={class:"header-section"},s={key:0,class:"designer"},d={class:"blog-container"},f={class:"blog-date"},h={class:"blog-content"};var g={__name:"Home",setup(e){const t=(0,l.KR)("home"),n=e=>{console.log("当前选中：",e)},g=(0,l.KR)([]),p=(0,l.KR)(null),v=((0,l.KR)(""),(0,l.KR)(!1)),k=(0,l.KR)({}),y=async()=>{try{const e=await o.A.get("/api/api/getBlogs");g.value=e.data}catch(e){console.error("获取博客数据失败:",e)}},m=()=>{i.A.push("/person")},b=()=>{i.A.push("/write")},_=()=>{const e=document.getElementById("musicPlayer");e.paused?(e.play(),p.value.textContent="暂停音乐"):(e.pause(),p.value.textContent="播放音乐")};return(0,r.sV)((async()=>{try{const e=await o.A.get("api/check",{withCredentials:!0});e.data.isLoggedIn&&(v.value=!0,k.value=e.data),console.log("用户名:",k.value.username)}catch(e){console.error("验证登录状态出错:",e)}y()})),(e,l)=>{const o=(0,r.g2)("el-menu-item"),i=(0,r.g2)("el-menu"),v=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",u,[(0,r.Lk)("div",c,[l[1]||(l[1]=(0,r.Lk)("h1",{class:"title"},"博·客·系·统",-1)),k.value?((0,r.uX)(),(0,r.CE)("span",s,"欢迎"+(0,a.v_)(k.value.username),1)):(0,r.Q3)("",!0)]),(0,r.bF)(i,{class:"nav-menu",mode:"horizontal","default-active":t.value,onSelect:n},{default:(0,r.k6)((()=>[(0,r.bF)(o,{index:"home"},{default:(0,r.k6)((()=>l[2]||(l[2]=[(0,r.eW)("首页")]))),_:1}),(0,r.bF)(o,{onClick:m,index:"personal"},{default:(0,r.k6)((()=>l[3]||(l[3]=[(0,r.eW)("个人主页")]))),_:1}),(0,r.bF)(o,{index:"friends"},{default:(0,r.k6)((()=>l[4]||(l[4]=[(0,r.eW)("好友")]))),_:1}),(0,r.bF)(o,{index:"game"},{default:(0,r.k6)((()=>l[5]||(l[5]=[(0,r.eW)("游戏")]))),_:1}),(0,r.bF)(o,{index:"about"},{default:(0,r.k6)((()=>l[6]||(l[6]=[(0,r.eW)("关于我们")]))),_:1}),(0,r.bF)(o,{index:"exit"},{default:(0,r.k6)((()=>l[7]||(l[7]=[(0,r.eW)("退出")]))),_:1})])),_:1},8,["default-active"]),(0,r.Lk)("div",d,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(g.value,(e=>((0,r.uX)(),(0,r.Wv)(v,{key:e.id,class:"blog-card"},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",null,(0,a.v_)(e.title),1),(0,r.Lk)("h4",null,(0,a.v_)(e.username),1),(0,r.Lk)("span",f,(0,a.v_)(new Date(e.date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)])),default:(0,r.k6)((()=>[(0,r.Lk)("div",h,(0,a.v_)(e.content),1)])),_:2},1024)))),128))]),(0,r.Lk)("button",{onClick:b,id:"writeArticleBtn"},"撰写文章")]),l[8]||(l[8]=(0,r.Lk)("audio",{id:"musicPlayer",src:"船长.mp3",controls:"",style:{display:"none"}},null,-1)),(0,r.Lk)("button",{ref_key:"musicBtnRef",ref:p,class:"music-btn",onClick:l[0]||(l[0]=e=>_())},"播放音乐",512)],64)}}},p=n(6262);const v=(0,p.A)(g,[["__scopeId","data-v-50076a1e"]]);var k=v},6837:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}}}]);
//# sourceMappingURL=86.df4501ab.js.map